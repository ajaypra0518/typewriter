<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .heading h1 {
            text-align: center;
            background-color: #0D1B2E;
            color: white;
            padding: 30px 0;
        }

        #oritext {
            background-color: #429890;
        }

        #oritext p {

            color: white;
            text-align: center;
            width: 50%;
            margin: auto;
            padding: 30px 0;
            font-size: 20px;


        }


        #text1 {
            width: 50%;
            text-align: initial;
            font-size: 25px;
            border: 5px solid #429890;
            outline: none;
        }

        @media screen and (max-width: 500px) {
            #text1 {
                padding-bottom: 130px;
                width: 70%;
            }
        }

        textarea {
            resize: none;
        }
      

        .timebtn{
            display: flex;
            justify-content: space-between;
            width: 50%;
            margin: auto;
            margin-top: 20px;
        }
        .statrbtn{
            padding: 10px 30px;
            font-size: 20px;
        }
        .timer{
            border: 1px solid black;
            padding: 10px 30px;
            font-size: 20px;
        }
    </style>
</head>

<body>
    <div class="heading">
        <h1>Typing Speed Test</h1>
    </div>

    <div id="oritext">
        <p>
            At home
        </p>
    </div>

    <div style="text-align: center; margin-top: 30px;">
        <textarea name="" id="text1" cols="30" rows="10"  placeholder="    Timer Is Start When You Start Typing!"></textarea>
    </div>

   <div class="timebtn">
    <div class="timer"><span id="minutes">00</span>:<span id="seconds">00</span></div>
    <div> <button class="statrbtn" onclick="myfun()">END </button></div>
   </div>

</body>

<script>

    var j=0;
    var end;
    var origtext = document.getElementById("oritext")
    var matched = document.getElementById("text1")

    matched.addEventListener('keyup', matching);
    function matching() {
        
        end=setInterval(setTime, 1000);
        var origtext1 = origtext.innerText;
        var matched1 = matched.value;

        var len = matched1.length;

        var str1 = origtext1.substring(0, len)
        var str2 = matched1.substring(0, len)

        if (str2 !== str1) {

            matched.style.borderColor = "red"
        }
        else {

            matched.style.borderColor = "#429890"
        }
    }



    var minute = document.getElementById("minutes");
    var second = document.getElementById("seconds");
    var totsecnd = 0;

   function myfun(){
       console.log(end)
      clearInterval(end);
    
   }

   function setTime() {
        ++totsecnd;
        second.innerHTML = pad(totsecnd % 60);
        minute.innerHTML = pad(parseInt(totsecnd / 60));
    }
    


    function pad(val) {
        var valString = val + "";
        if (valString.length < 2) {
            return "0" + valString;
        } else {
            return valString;
        }
    }




</script>

</html>
